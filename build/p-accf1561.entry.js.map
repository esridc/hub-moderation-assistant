{"version":3,"names":["CSS","frame","frameAdvancing","frameRetreating","flowCss","Flow","constructor","hostRef","this","itemMutationObserver","createObserver","updateFlowProps","getFlowDirection","oldFlowItemCount","newFlowItemCount","allowRetreatingDirection","allowAdvancingDirection","customItemSelectors","el","items","newItems","Array","from","querySelectorAll","filter","flowItem","closest","oldItemCount","length","newItemCount","activeItem","previousItem","forEach","itemNode","showBackButton","hidden","menuOpen","flowDirection","itemCount","undefined","async","lastItem","beforeBack","Promise","resolve","call","_error","remove","componentFocusable","setFocus","connectedCallback","_a","observe","childList","subtree","setUpLoadableComponent","componentDidLoad","setComponentLoaded","disconnectedCallback","disconnect","event","defaultPrevented","back","render","frameDirectionClasses","h","key","class"],"sources":["./node_modules/@esri/calcite-components/dist/collection/components/flow/resources.js","./node_modules/@esri/calcite-components/dist/collection/components/flow/flow.css?tag=calcite-flow&encapsulation=shadow","./node_modules/@esri/calcite-components/dist/collection/components/flow/flow.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.11.1\n */\nexport const CSS = {\n    frame: \"frame\",\n    frameAdvancing: \"frame--advancing\",\n    frameRetreating: \"frame--retreating\",\n};\n//# sourceMappingURL=resources.js.map\n","/**\n * Do not edit directly\n * Generated on Fri, 02 Aug 2024 20:03:08 GMT\n */\n/**\n * Do not edit directly\n * Generated on Fri, 02 Aug 2024 20:03:08 GMT\n */\n/**\n * Do not edit directly\n * Generated on Fri, 02 Aug 2024 20:03:08 GMT\n */\n/**\n * Do not edit directly\n * Generated on Fri, 02 Aug 2024 20:03:08 GMT\n */\n/**\n * Do not edit directly\n * Generated on Fri, 02 Aug 2024 20:03:06 GMT\n */\n/* mixins & extensions */\n/* helper to properly scale internal durations */\n/**\n* Currently only used in Checkbox.\n*/\n:host {\n  /* Base \":host\" styles for the component */\n  box-sizing: border-box;\n  background-color: var(--calcite-color-foreground-1);\n  color: var(--calcite-color-text-2);\n  font-size: var(--calcite-font-size--1);\n}\n:host * {\n  box-sizing: border-box;\n}\n\n:host {\n  position: relative;\n  display: flex;\n  inline-size: 100%;\n  flex: 1 1 auto;\n  align-items: stretch;\n  overflow: hidden;\n  background-color: transparent;\n}\n:host .frame {\n  position: relative;\n  margin: 0px;\n  display: flex;\n  inline-size: 100%;\n  flex: 1 1 auto;\n  flex-direction: column;\n  align-items: stretch;\n  padding: 0px;\n}\n:host ::slotted(calcite-flow-item),\n:host ::slotted(calcite-panel) {\n  block-size: 100%;\n}\n:host ::slotted(.calcite-match-height:last-child) {\n  display: flex;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n:host .frame--advancing {\n  animation: calcite-frame-advance var(--calcite-animation-timing);\n}\n:host .frame--retreating {\n  animation: calcite-frame-retreat var(--calcite-animation-timing);\n}\n@keyframes calcite-frame-advance {\n  0% {\n    --tw-bg-opacity: 0.5;\n    transform: translate3d(50px, 0, 0);\n  }\n  100% {\n    --tw-bg-opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n}\n@keyframes calcite-frame-retreat {\n  0% {\n    --tw-bg-opacity: 0.5;\n    transform: translate3d(-50px, 0, 0);\n  }\n  100% {\n    --tw-bg-opacity: 1;\n    transform: translate3d(0, 0, 0);\n  }\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n[hidden] {\n  display: none;\n}","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.11.1\n */\nimport { h } from \"@stencil/core\";\nimport { createObserver } from \"../../utils/observers\";\nimport { componentFocusable, setComponentLoaded, setUpLoadableComponent, } from \"../../utils/loadable\";\nimport { CSS } from \"./resources\";\n/**\n * @slot - A slot for adding `calcite-flow-item` elements to the component.\n */\nexport class Flow {\n    constructor() {\n        this.itemMutationObserver = createObserver(\"mutation\", () => this.updateFlowProps());\n        this.getFlowDirection = (oldFlowItemCount, newFlowItemCount) => {\n            const allowRetreatingDirection = oldFlowItemCount > 1;\n            const allowAdvancingDirection = oldFlowItemCount && newFlowItemCount > 1;\n            if (!allowAdvancingDirection && !allowRetreatingDirection) {\n                return null;\n            }\n            return newFlowItemCount < oldFlowItemCount ? \"retreating\" : \"advancing\";\n        };\n        this.updateFlowProps = () => {\n            const { customItemSelectors, el, items } = this;\n            const newItems = Array.from(el.querySelectorAll(`calcite-flow-item${customItemSelectors ? `,${customItemSelectors}` : \"\"}`)).filter((flowItem) => flowItem.closest(\"calcite-flow\") === el);\n            const oldItemCount = items.length;\n            const newItemCount = newItems.length;\n            const activeItem = newItems[newItemCount - 1];\n            const previousItem = newItems[newItemCount - 2];\n            if (newItemCount && activeItem) {\n                newItems.forEach((itemNode) => {\n                    itemNode.showBackButton = itemNode === activeItem && newItemCount > 1;\n                    itemNode.hidden = itemNode !== activeItem;\n                });\n            }\n            if (previousItem) {\n                previousItem.menuOpen = false;\n            }\n            this.items = newItems;\n            if (oldItemCount !== newItemCount) {\n                const flowDirection = this.getFlowDirection(oldItemCount, newItemCount);\n                this.itemCount = newItemCount;\n                this.flowDirection = flowDirection;\n            }\n        };\n        this.customItemSelectors = undefined;\n        this.flowDirection = null;\n        this.itemCount = 0;\n        this.items = [];\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Public Methods\n    //\n    // --------------------------------------------------------------------------\n    /**\n     * Removes the currently active `calcite-flow-item`.\n     */\n    async back() {\n        const { items } = this;\n        const lastItem = items[items.length - 1];\n        if (!lastItem) {\n            return;\n        }\n        const beforeBack = lastItem.beforeBack\n            ? lastItem.beforeBack\n            : () => Promise.resolve();\n        try {\n            await beforeBack.call(lastItem);\n        }\n        catch (_error) {\n            // back prevented\n            return;\n        }\n        lastItem.remove();\n        return lastItem;\n    }\n    /**\n     * Sets focus on the component.\n     */\n    async setFocus() {\n        await componentFocusable(this);\n        const { items } = this;\n        const activeItem = items[items.length - 1];\n        return activeItem?.setFocus();\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    // --------------------------------------------------------------------------\n    connectedCallback() {\n        this.itemMutationObserver?.observe(this.el, { childList: true, subtree: true });\n        this.updateFlowProps();\n    }\n    async componentWillLoad() {\n        setUpLoadableComponent(this);\n    }\n    componentDidLoad() {\n        setComponentLoaded(this);\n    }\n    disconnectedCallback() {\n        this.itemMutationObserver?.disconnect();\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    async handleItemBackClick(event) {\n        if (event.defaultPrevented) {\n            return;\n        }\n        await this.back();\n        return this.setFocus();\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    // --------------------------------------------------------------------------\n    render() {\n        const { flowDirection } = this;\n        const frameDirectionClasses = {\n            [CSS.frame]: true,\n            [CSS.frameAdvancing]: flowDirection === \"advancing\",\n            [CSS.frameRetreating]: flowDirection === \"retreating\",\n        };\n        return (h(\"div\", { key: '3d91e0e8d0ffb94e3e8d563e3b34b47b23b3987b', class: frameDirectionClasses }, h(\"slot\", { key: 'fb32070e340ba86196b5150d2bcc884ac2d94901' })));\n    }\n    static get is() { return \"calcite-flow\"; }\n    static get encapsulation() { return \"shadow\"; }\n    static get originalStyleUrls() {\n        return {\n            \"$\": [\"flow.scss\"]\n        };\n    }\n    static get styleUrls() {\n        return {\n            \"$\": [\"flow.css\"]\n        };\n    }\n    static get properties() {\n        return {\n            \"customItemSelectors\": {\n                \"type\": \"string\",\n                \"mutable\": false,\n                \"complexType\": {\n                    \"original\": \"string\",\n                    \"resolved\": \"string\",\n                    \"references\": {}\n                },\n                \"required\": false,\n                \"optional\": false,\n                \"docs\": {\n                    \"tags\": [{\n                            \"name\": \"internal\",\n                            \"text\": undefined\n                        }],\n                    \"text\": \"This property enables the component to consider other custom elements implementing flow-item's interface.\"\n                },\n                \"attribute\": \"custom-item-selectors\",\n                \"reflect\": false\n            }\n        };\n    }\n    static get states() {\n        return {\n            \"flowDirection\": {},\n            \"itemCount\": {},\n            \"items\": {}\n        };\n    }\n    static get methods() {\n        return {\n            \"back\": {\n                \"complexType\": {\n                    \"signature\": \"() => Promise<HTMLCalciteFlowItemElement | FlowItemLikeElement>\",\n                    \"parameters\": [],\n                    \"references\": {\n                        \"Promise\": {\n                            \"location\": \"global\",\n                            \"id\": \"global::Promise\"\n                        },\n                        \"HTMLCalciteFlowItemElement\": {\n                            \"location\": \"global\",\n                            \"id\": \"global::HTMLCalciteFlowItemElement\"\n                        },\n                        \"FlowItemLikeElement\": {\n                            \"location\": \"import\",\n                            \"path\": \"./interfaces\",\n                            \"id\": \"src/components/flow/interfaces.ts::FlowItemLikeElement\"\n                        }\n                    },\n                    \"return\": \"Promise<HTMLCalciteFlowItemElement | FlowItemLikeElement>\"\n                },\n                \"docs\": {\n                    \"text\": \"Removes the currently active `calcite-flow-item`.\",\n                    \"tags\": []\n                }\n            },\n            \"setFocus\": {\n                \"complexType\": {\n                    \"signature\": \"() => Promise<void>\",\n                    \"parameters\": [],\n                    \"references\": {\n                        \"Promise\": {\n                            \"location\": \"global\",\n                            \"id\": \"global::Promise\"\n                        }\n                    },\n                    \"return\": \"Promise<void>\"\n                },\n                \"docs\": {\n                    \"text\": \"Sets focus on the component.\",\n                    \"tags\": []\n                }\n            }\n        };\n    }\n    static get elementRef() { return \"el\"; }\n    static get listeners() {\n        return [{\n                \"name\": \"calciteFlowItemBack\",\n                \"method\": \"handleItemBackClick\",\n                \"target\": undefined,\n                \"capture\": false,\n                \"passive\": false\n            }];\n    }\n}\n//# sourceMappingURL=flow.js.map\n"],"mappings":";;;;;GAKO,MAAMA,EAAM,CACfC,MAAO,QACPC,eAAgB,mBAChBC,gBAAiB,qBCRrB,MAAMC,EAAU,+nC,MCYHC,EAAI,MACbC,YAAAC,G,UACIC,KAAKC,qBAAuBC,EAAe,YAAY,IAAMF,KAAKG,oBAClEH,KAAKI,iBAAmB,CAACC,EAAkBC,KACvC,MAAMC,EAA2BF,EAAmB,EACpD,MAAMG,EAA0BH,GAAoBC,EAAmB,EACvE,IAAKE,IAA4BD,EAA0B,CACvD,OAAO,I,CAEX,OAAOD,EAAmBD,EAAmB,aAAe,WAAW,EAE3EL,KAAKG,gBAAkB,KACnB,MAAMM,oBAAEA,EAAmBC,GAAEA,EAAEC,MAAEA,GAAUX,KAC3C,MAAMY,EAAWC,MAAMC,KAAKJ,EAAGK,iBAAiB,oBAAoBN,EAAsB,IAAIA,IAAwB,OAAOO,QAAQC,GAAaA,EAASC,QAAQ,kBAAoBR,IACvL,MAAMS,EAAeR,EAAMS,OAC3B,MAAMC,EAAeT,EAASQ,OAC9B,MAAME,EAAaV,EAASS,EAAe,GAC3C,MAAME,EAAeX,EAASS,EAAe,GAC7C,GAAIA,GAAgBC,EAAY,CAC5BV,EAASY,SAASC,IACdA,EAASC,eAAiBD,IAAaH,GAAcD,EAAe,EACpEI,EAASE,OAASF,IAAaH,CAAU,G,CAGjD,GAAIC,EAAc,CACdA,EAAaK,SAAW,K,CAE5B5B,KAAKW,MAAQC,EACb,GAAIO,IAAiBE,EAAc,CAC/B,MAAMQ,EAAgB7B,KAAKI,iBAAiBe,EAAcE,GAC1DrB,KAAK8B,UAAYT,EACjBrB,KAAK6B,cAAgBA,C,GAG7B7B,KAAKS,oBAAsBsB,UAC3B/B,KAAK6B,cAAgB,KACrB7B,KAAK8B,UAAY,EACjB9B,KAAKW,MAAQ,E,CAUjBqB,aACI,MAAMrB,MAAEA,GAAUX,KAClB,MAAMiC,EAAWtB,EAAMA,EAAMS,OAAS,GACtC,IAAKa,EAAU,CACX,M,CAEJ,MAAMC,EAAaD,EAASC,WACtBD,EAASC,WACT,IAAMC,QAAQC,UACpB,UACUF,EAAWG,KAAKJ,E,CAE1B,MAAOK,GAEH,M,CAEJL,EAASM,SACT,OAAON,C,CAKXD,uBACUQ,EAAmBxC,MACzB,MAAMW,MAAEA,GAAUX,KAClB,MAAMsB,EAAaX,EAAMA,EAAMS,OAAS,GACxC,OAAOE,IAAU,MAAVA,SAAU,SAAVA,EAAYmB,U,CAOvBC,oB,OACIC,EAAA3C,KAAKC,wBAAoB,MAAA0C,SAAA,SAAAA,EAAEC,QAAQ5C,KAAKU,GAAI,CAAEmC,UAAW,KAAMC,QAAS,OACxE9C,KAAKG,iB,CAET6B,0BACIe,EAAuB/C,K,CAE3BgD,mBACIC,EAAmBjD,K,CAEvBkD,uB,OACIP,EAAA3C,KAAKC,wBAAoB,MAAA0C,SAAA,SAAAA,EAAEQ,Y,CAO/BnB,0BAA0BoB,GACtB,GAAIA,EAAMC,iBAAkB,CACxB,M,OAEErD,KAAKsD,OACX,OAAOtD,KAAKyC,U,CAOhBc,SACI,MAAM1B,cAAEA,GAAkB7B,KAC1B,MAAMwD,EAAwB,CAC1B,CAAChE,EAAIC,OAAQ,KACb,CAACD,EAAIE,gBAAiBmC,IAAkB,YACxC,CAACrC,EAAIG,iBAAkBkC,IAAkB,cAE7C,OAAQ4B,EAAE,MAAO,CAAEC,IAAK,2CAA4CC,MAAOH,GAAyBC,EAAE,OAAQ,CAAEC,IAAK,6C"}