{"version":3,"names":["groupBufferPx","getAverage","arr","reduce","p","c","length","geActionDimensions","actions","actionsNotSlotted","filter","action","slot","ACTION_GROUP_SLOTS","menuActions","actionLen","actionWidth","map","clientWidth","actionHeight","clientHeight","getMaxActionCount","width","layout","height","groupCount","maxContainerPx","avgItemPx","Math","floor","getOverflowCount","actionCount","max","queryActions","el","Array","from","querySelectorAll","closest","ACTION_MENU_SLOTS","trigger","overflowActions","actionGroups","expanded","overflowCount","needToSlotCount","reverse","forEach","group","slottedWithinGroupCount","groupActions","groupAction","removeAttribute","textEnabled","some","unslottedActions","setAttribute","forceUpdate","ICONS","chevronsLeft","chevronsRight","getCalcitePosition","position","toggleChildActionText","setTooltipReference","tooltip","referenceElement","ref","ExpandToggle","expandText","collapseText","expandLabel","collapseLabel","toggle","scale","rtl","getElementDir","text","label","icons","end","expandIcon","collapseIcon","actionNode","h","icon","id","onClick","title"],"sources":["./node_modules/@esri/calcite-components/dist/collection/components/action-bar/utils.js","./node_modules/@esri/calcite-components/dist/collection/components/functional/ExpandToggle.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.11.1\n */\nimport { forceUpdate } from \"@stencil/core\";\nimport { SLOTS as ACTION_GROUP_SLOTS } from \"../action-group/resources\";\nimport { SLOTS as ACTION_MENU_SLOTS } from \"../action-menu/resources\";\nconst groupBufferPx = 2;\nconst getAverage = (arr) => arr.reduce((p, c) => p + c, 0) / arr.length;\nexport const geActionDimensions = (actions) => {\n    const actionsNotSlotted = actions.filter((action) => action.slot !== ACTION_GROUP_SLOTS.menuActions);\n    const actionLen = actionsNotSlotted?.length;\n    return {\n        actionWidth: actionLen ? getAverage(actionsNotSlotted.map((action) => action.clientWidth || 0)) : 0,\n        actionHeight: actionLen ? getAverage(actionsNotSlotted.map((action) => action.clientHeight || 0)) : 0,\n    };\n};\nconst getMaxActionCount = ({ width, actionWidth, layout, height, actionHeight, groupCount, }) => {\n    const maxContainerPx = layout === \"horizontal\" ? width : height;\n    const avgItemPx = layout === \"horizontal\" ? actionWidth : actionHeight;\n    return Math.floor((maxContainerPx - groupCount * groupBufferPx) / avgItemPx);\n};\nexport const getOverflowCount = ({ layout, actionCount, actionWidth, width, actionHeight, height, groupCount, }) => {\n    return Math.max(actionCount - getMaxActionCount({ width, actionWidth, layout, height, actionHeight, groupCount }), 0);\n};\nexport const queryActions = (el) => {\n    return Array.from(el.querySelectorAll(\"calcite-action\")).filter((action) => action.closest(\"calcite-action-menu\") ? action.slot === ACTION_MENU_SLOTS.trigger : true);\n};\nexport const overflowActions = ({ actionGroups, expanded, overflowCount, }) => {\n    let needToSlotCount = overflowCount;\n    actionGroups.reverse().forEach((group) => {\n        let slottedWithinGroupCount = 0;\n        const groupActions = queryActions(group).reverse();\n        groupActions.forEach((groupAction) => {\n            if (groupAction.slot === ACTION_GROUP_SLOTS.menuActions) {\n                groupAction.removeAttribute(\"slot\");\n                groupAction.textEnabled = expanded;\n            }\n        });\n        if (needToSlotCount > 0) {\n            groupActions.some((groupAction) => {\n                const unslottedActions = groupActions.filter((action) => !action.slot);\n                if (unslottedActions.length > 1 && groupActions.length > 2 && !groupAction.closest(\"calcite-action-menu\")) {\n                    groupAction.textEnabled = true;\n                    groupAction.setAttribute(\"slot\", ACTION_GROUP_SLOTS.menuActions);\n                    slottedWithinGroupCount++;\n                    if (slottedWithinGroupCount > 1) {\n                        needToSlotCount--;\n                    }\n                }\n                return needToSlotCount < 1;\n            });\n        }\n        forceUpdate(group);\n    });\n};\n//# sourceMappingURL=utils.js.map\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.11.1\n */\nimport { h } from \"@stencil/core\";\nimport { getElementDir } from \"../../utils/dom\";\nimport { queryActions } from \"../action-bar/utils\";\nimport { SLOTS as ACTION_GROUP_SLOTS } from \"../action-group/resources\";\nconst ICONS = {\n    chevronsLeft: \"chevrons-left\",\n    chevronsRight: \"chevrons-right\",\n};\nfunction getCalcitePosition(position, el) {\n    return position || el.closest(\"calcite-shell-panel\")?.position || \"start\";\n}\nexport function toggleChildActionText({ el, expanded, }) {\n    queryActions(el)\n        .filter((el) => el.slot !== ACTION_GROUP_SLOTS.menuActions)\n        .forEach((action) => (action.textEnabled = expanded));\n    el.querySelectorAll(\"calcite-action-group, calcite-action-menu\").forEach((el) => (el.expanded = expanded));\n}\nconst setTooltipReference = ({ tooltip, referenceElement, expanded, ref, }) => {\n    if (tooltip) {\n        tooltip.referenceElement = !expanded && referenceElement ? referenceElement : null;\n    }\n    if (ref) {\n        ref(referenceElement);\n    }\n    return referenceElement;\n};\nexport const ExpandToggle = ({ expanded, expandText, collapseText, expandLabel, collapseLabel, toggle, el, position, tooltip, ref, scale, }) => {\n    const rtl = getElementDir(el) === \"rtl\";\n    const text = expanded ? collapseText : expandText;\n    const label = expanded ? collapseLabel : expandLabel;\n    const icons = [ICONS.chevronsLeft, ICONS.chevronsRight];\n    if (rtl) {\n        icons.reverse();\n    }\n    const end = getCalcitePosition(position, el) === \"end\";\n    const expandIcon = end ? icons[1] : icons[0];\n    const collapseIcon = end ? icons[0] : icons[1];\n    const actionNode = (h(\"calcite-action\", { icon: expanded ? expandIcon : collapseIcon, id: \"expand-toggle\", label: label, onClick: toggle, ref: (referenceElement) => setTooltipReference({ tooltip, referenceElement, expanded, ref }), scale: scale, text: text, textEnabled: expanded, title: !expanded && !tooltip ? text : null }));\n    return actionNode;\n};\n//# sourceMappingURL=ExpandToggle.js.map\n"],"mappings":"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"}