{"version":3,"names":["CSS","sortItem","container","containerHorizontal","containerVertical","sortableListCss","SortableList","constructor","hostRef","this","items","mutationObserver","createObserver","setUpSorting","dragEnabled","canPull","undefined","canPut","dragSelector","group","handleSelector","layout","disabled","loading","connectedCallback","beginObserving","connectInteractive","disconnectedCallback","disconnectInteractive","disconnectSortableComponent","endObserving","componentDidRender","updateHostInteraction","calciteHandleNudgeNextHandler","event","handleNudgeEvent","onGlobalDragStart","onGlobalDragEnd","onDragEnd","onDragStart","onDragSort","Array","from","el","children","calciteListOrderChange","emit","direction","detail","handle","composedPath","find","matches","item","contains","includes","lastIndex","length","startingIndex","indexOf","appendInstead","buddyIndex","parentElement","appendChild","insertBefore","requestAnimationFrame","focusElement","selected","connectSortableComponent","_a","observe","childList","subtree","disconnect","render","horizontal","h","InteractiveContainer","key","class"],"sources":["./node_modules/@esri/calcite-components/dist/collection/components/sortable-list/resources.js","./node_modules/@esri/calcite-components/dist/collection/components/sortable-list/sortable-list.css?tag=calcite-sortable-list&encapsulation=shadow","./node_modules/@esri/calcite-components/dist/collection/components/sortable-list/sortable-list.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.11.1\n */\nexport const CSS = {\n    sortItem: \"sort-item\",\n    container: \"container\",\n    containerHorizontal: \"container--horizontal\",\n    containerVertical: \"container--vertical\",\n};\n//# sourceMappingURL=resources.js.map\n","/**\n * Do not edit directly\n * Generated on Fri, 02 Aug 2024 20:03:08 GMT\n */\n/**\n * Do not edit directly\n * Generated on Fri, 02 Aug 2024 20:03:08 GMT\n */\n/**\n * Do not edit directly\n * Generated on Fri, 02 Aug 2024 20:03:08 GMT\n */\n/**\n * Do not edit directly\n * Generated on Fri, 02 Aug 2024 20:03:08 GMT\n */\n/**\n * Do not edit directly\n * Generated on Fri, 02 Aug 2024 20:03:06 GMT\n */\n/* mixins & extensions */\n/* helper to properly scale internal durations */\n/**\n* Currently only used in Checkbox.\n*/\n:host([disabled]) {\n  cursor: default;\n  -webkit-user-select: none;\n          user-select: none;\n  opacity: var(--calcite-opacity-disabled);\n}\n\n:host([disabled]) *,\n:host([disabled]) ::slotted(*) {\n  pointer-events: none;\n}\n\n:host {\n  display: flex;\n}\n\n:host([disabled]) ::slotted([calcite-hydrated][disabled]),\n:host([disabled]) [calcite-hydrated][disabled] {\n  /* prevent opacity stacking */\n  opacity: 1;\n}\n\n.interaction-container {\n  display: contents;\n}\n\n.container {\n  display: flex;\n  flex: 1 1 auto;\n}\n\n.container--vertical {\n  flex-direction: column;\n}\n\n.container--horizontal {\n  flex-direction: row;\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n[hidden] {\n  display: none;\n}","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.11.1\n */\nimport { h } from \"@stencil/core\";\nimport { connectInteractive, disconnectInteractive, InteractiveContainer, updateHostInteraction, } from \"../../utils/interactive\";\nimport { createObserver } from \"../../utils/observers\";\nimport { connectSortableComponent, disconnectSortableComponent, } from \"../../utils/sortableComponent\";\nimport { focusElement } from \"../../utils/dom\";\nimport { CSS } from \"./resources\";\n/**\n * @slot - A slot for adding sortable items.\n */\nexport class SortableList {\n    constructor() {\n        this.items = [];\n        this.mutationObserver = createObserver(\"mutation\", () => {\n            this.setUpSorting();\n        });\n        this.dragEnabled = true;\n        this.canPull = undefined;\n        this.canPut = undefined;\n        this.dragSelector = undefined;\n        this.group = undefined;\n        this.handleSelector = \"calcite-handle\";\n        this.layout = \"vertical\";\n        this.disabled = false;\n        this.loading = false;\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    // --------------------------------------------------------------------------\n    connectedCallback() {\n        this.setUpSorting();\n        this.beginObserving();\n        connectInteractive(this);\n    }\n    disconnectedCallback() {\n        disconnectInteractive(this);\n        disconnectSortableComponent(this);\n        this.endObserving();\n    }\n    componentDidRender() {\n        updateHostInteraction(this);\n    }\n    calciteHandleNudgeNextHandler(event) {\n        this.handleNudgeEvent(event);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    onGlobalDragStart() {\n        this.endObserving();\n    }\n    onGlobalDragEnd() {\n        this.beginObserving();\n    }\n    onDragEnd() { }\n    onDragStart() { }\n    onDragSort() {\n        this.items = Array.from(this.el.children);\n        this.calciteListOrderChange.emit();\n    }\n    handleNudgeEvent(event) {\n        const { direction } = event.detail;\n        const handle = event\n            .composedPath()\n            .find((el) => el.matches(this.handleSelector));\n        const sortItem = this.items.find((item) => {\n            return item.contains(handle) || event.composedPath().includes(item);\n        });\n        const lastIndex = this.items.length - 1;\n        const startingIndex = this.items.indexOf(sortItem);\n        let appendInstead = false;\n        let buddyIndex;\n        if (direction === \"up\") {\n            if (startingIndex === 0) {\n                appendInstead = true;\n            }\n            else {\n                buddyIndex = startingIndex - 1;\n            }\n        }\n        else {\n            if (startingIndex === lastIndex) {\n                buddyIndex = 0;\n            }\n            else if (startingIndex === lastIndex - 1) {\n                appendInstead = true;\n            }\n            else {\n                buddyIndex = startingIndex + 2;\n            }\n        }\n        this.endObserving();\n        if (appendInstead) {\n            sortItem.parentElement.appendChild(sortItem);\n        }\n        else {\n            sortItem.parentElement.insertBefore(sortItem, this.items[buddyIndex]);\n        }\n        this.items = Array.from(this.el.children);\n        this.beginObserving();\n        requestAnimationFrame(() => focusElement(handle));\n        if (\"selected\" in handle) {\n            handle.selected = true;\n        }\n    }\n    setUpSorting() {\n        this.items = Array.from(this.el.children);\n        connectSortableComponent(this);\n    }\n    beginObserving() {\n        this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n    }\n    endObserving() {\n        this.mutationObserver?.disconnect();\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    // --------------------------------------------------------------------------\n    render() {\n        const { disabled, layout } = this;\n        const horizontal = layout === \"horizontal\" || false;\n        return (h(InteractiveContainer, { key: 'da0db08fa91c3f943f358b79a36cb6c3eb8212bd', disabled: disabled }, h(\"div\", { key: '65ca5e00f52d324f9240dc9d4ed9298cf2be4e11', class: {\n                [CSS.container]: true,\n                [CSS.containerVertical]: !horizontal,\n                [CSS.containerHorizontal]: horizontal,\n            } }, h(\"slot\", { key: '8a968a9509770248980a573ff7565ed78cc8389c' }))));\n    }\n    static get is() { return \"calcite-sortable-list\"; }\n    static get encapsulation() { return \"shadow\"; }\n    static get originalStyleUrls() {\n        return {\n            \"$\": [\"sortable-list.scss\"]\n        };\n    }\n    static get styleUrls() {\n        return {\n            \"$\": [\"sortable-list.css\"]\n        };\n    }\n    static get properties() {\n        return {\n            \"canPull\": {\n                \"type\": \"unknown\",\n                \"mutable\": false,\n                \"complexType\": {\n                    \"original\": \"(detail: DragDetail) => boolean\",\n                    \"resolved\": \"(detail: DragDetail) => boolean\",\n                    \"references\": {\n                        \"DragDetail\": {\n                            \"location\": \"import\",\n                            \"path\": \"../../utils/sortableComponent\",\n                            \"id\": \"src/utils/sortableComponent.ts::DragDetail\"\n                        }\n                    }\n                },\n                \"required\": false,\n                \"optional\": false,\n                \"docs\": {\n                    \"tags\": [],\n                    \"text\": \"When provided, the method will be called to determine whether the element can  move from the list.\"\n                }\n            },\n            \"canPut\": {\n                \"type\": \"unknown\",\n                \"mutable\": false,\n                \"complexType\": {\n                    \"original\": \"(detail: DragDetail) => boolean\",\n                    \"resolved\": \"(detail: DragDetail) => boolean\",\n                    \"references\": {\n                        \"DragDetail\": {\n                            \"location\": \"import\",\n                            \"path\": \"../../utils/sortableComponent\",\n                            \"id\": \"src/utils/sortableComponent.ts::DragDetail\"\n                        }\n                    }\n                },\n                \"required\": false,\n                \"optional\": false,\n                \"docs\": {\n                    \"tags\": [],\n                    \"text\": \"When provided, the method will be called to determine whether the element can be added from another list.\"\n                }\n            },\n            \"dragSelector\": {\n                \"type\": \"string\",\n                \"mutable\": false,\n                \"complexType\": {\n                    \"original\": \"string\",\n                    \"resolved\": \"string\",\n                    \"references\": {}\n                },\n                \"required\": false,\n                \"optional\": true,\n                \"docs\": {\n                    \"tags\": [],\n                    \"text\": \"Specifies which items inside the element should be draggable.\"\n                },\n                \"attribute\": \"drag-selector\",\n                \"reflect\": true\n            },\n            \"group\": {\n                \"type\": \"string\",\n                \"mutable\": false,\n                \"complexType\": {\n                    \"original\": \"string\",\n                    \"resolved\": \"string\",\n                    \"references\": {}\n                },\n                \"required\": false,\n                \"optional\": true,\n                \"docs\": {\n                    \"tags\": [],\n                    \"text\": \"The list's group identifier.\\n\\nTo drag elements from one list into another, both lists must have the same group value.\"\n                },\n                \"attribute\": \"group\",\n                \"reflect\": true\n            },\n            \"handleSelector\": {\n                \"type\": \"string\",\n                \"mutable\": false,\n                \"complexType\": {\n                    \"original\": \"string\",\n                    \"resolved\": \"string\",\n                    \"references\": {}\n                },\n                \"required\": false,\n                \"optional\": false,\n                \"docs\": {\n                    \"tags\": [],\n                    \"text\": \"The selector for the handle elements.\"\n                },\n                \"attribute\": \"handle-selector\",\n                \"reflect\": true,\n                \"defaultValue\": \"\\\"calcite-handle\\\"\"\n            },\n            \"layout\": {\n                \"type\": \"string\",\n                \"mutable\": false,\n                \"complexType\": {\n                    \"original\": \"Extract<\\\"horizontal\\\" | \\\"vertical\\\" | \\\"grid\\\", Layout>\",\n                    \"resolved\": \"\\\"grid\\\" | \\\"horizontal\\\" | \\\"vertical\\\"\",\n                    \"references\": {\n                        \"Extract\": {\n                            \"location\": \"global\",\n                            \"id\": \"global::Extract\"\n                        },\n                        \"Layout\": {\n                            \"location\": \"import\",\n                            \"path\": \"../interfaces\",\n                            \"id\": \"src/components/interfaces.ts::Layout\"\n                        }\n                    }\n                },\n                \"required\": false,\n                \"optional\": false,\n                \"docs\": {\n                    \"tags\": [],\n                    \"text\": \"Indicates the horizontal or vertical orientation of the component.\"\n                },\n                \"attribute\": \"layout\",\n                \"reflect\": true,\n                \"defaultValue\": \"\\\"vertical\\\"\"\n            },\n            \"disabled\": {\n                \"type\": \"boolean\",\n                \"mutable\": false,\n                \"complexType\": {\n                    \"original\": \"boolean\",\n                    \"resolved\": \"boolean\",\n                    \"references\": {}\n                },\n                \"required\": false,\n                \"optional\": false,\n                \"docs\": {\n                    \"tags\": [],\n                    \"text\": \"When true, disabled prevents interaction. This state shows items with lower opacity/grayed.\"\n                },\n                \"attribute\": \"disabled\",\n                \"reflect\": true,\n                \"defaultValue\": \"false\"\n            },\n            \"loading\": {\n                \"type\": \"boolean\",\n                \"mutable\": false,\n                \"complexType\": {\n                    \"original\": \"boolean\",\n                    \"resolved\": \"boolean\",\n                    \"references\": {}\n                },\n                \"required\": false,\n                \"optional\": false,\n                \"docs\": {\n                    \"tags\": [],\n                    \"text\": \"When true, content is waiting to be loaded. This state shows a busy indicator.\"\n                },\n                \"attribute\": \"loading\",\n                \"reflect\": true,\n                \"defaultValue\": \"false\"\n            }\n        };\n    }\n    static get events() {\n        return [{\n                \"method\": \"calciteListOrderChange\",\n                \"name\": \"calciteListOrderChange\",\n                \"bubbles\": true,\n                \"cancelable\": false,\n                \"composed\": true,\n                \"docs\": {\n                    \"tags\": [],\n                    \"text\": \"Emitted when the order of the list has changed.\"\n                },\n                \"complexType\": {\n                    \"original\": \"void\",\n                    \"resolved\": \"void\",\n                    \"references\": {}\n                }\n            }];\n    }\n    static get elementRef() { return \"el\"; }\n    static get listeners() {\n        return [{\n                \"name\": \"calciteHandleNudge\",\n                \"method\": \"calciteHandleNudgeNextHandler\",\n                \"target\": undefined,\n                \"capture\": false,\n                \"passive\": false\n            }];\n    }\n}\n//# sourceMappingURL=sortable-list.js.map\n"],"mappings":";;;;;GAKO,MAAMA,EAAM,CACfC,SAAU,YACVC,UAAW,YACXC,oBAAqB,wBACrBC,kBAAmB,uBCTvB,MAAMC,EAAkB,yhB,MCcXC,EAAY,MACrBC,YAAAC,G,yEACIC,KAAKC,MAAQ,GACbD,KAAKE,iBAAmBC,EAAe,YAAY,KAC/CH,KAAKI,cAAc,IAEvBJ,KAAKK,YAAc,KACnBL,KAAKM,QAAUC,UACfP,KAAKQ,OAASD,UACdP,KAAKS,aAAeF,UACpBP,KAAKU,MAAQH,UACbP,KAAKW,eAAiB,iBACtBX,KAAKY,OAAS,WACdZ,KAAKa,SAAW,MAChBb,KAAKc,QAAU,K,CAOnBC,oBACIf,KAAKI,eACLJ,KAAKgB,iBACLC,EAAmBjB,K,CAEvBkB,uBACIC,EAAsBnB,MACtBoB,EAA4BpB,MAC5BA,KAAKqB,c,CAETC,qBACIC,EAAsBvB,K,CAE1BwB,8BAA8BC,GAC1BzB,KAAK0B,iBAAiBD,E,CAO1BE,oBACI3B,KAAKqB,c,CAETO,kBACI5B,KAAKgB,gB,CAETa,YAAS,CACTC,cAAW,CACXC,aACI/B,KAAKC,MAAQ+B,MAAMC,KAAKjC,KAAKkC,GAAGC,UAChCnC,KAAKoC,uBAAuBC,M,CAEhCX,iBAAiBD,GACb,MAAMa,UAAEA,GAAcb,EAAMc,OAC5B,MAAMC,EAASf,EACVgB,eACAC,MAAMR,GAAOA,EAAGS,QAAQ3C,KAAKW,kBAClC,MAAMnB,EAAWQ,KAAKC,MAAMyC,MAAME,GACvBA,EAAKC,SAASL,IAAWf,EAAMgB,eAAeK,SAASF,KAElE,MAAMG,EAAY/C,KAAKC,MAAM+C,OAAS,EACtC,MAAMC,EAAgBjD,KAAKC,MAAMiD,QAAQ1D,GACzC,IAAI2D,EAAgB,MACpB,IAAIC,EACJ,GAAId,IAAc,KAAM,CACpB,GAAIW,IAAkB,EAAG,CACrBE,EAAgB,I,KAEf,CACDC,EAAaH,EAAgB,C,MAGhC,CACD,GAAIA,IAAkBF,EAAW,CAC7BK,EAAa,C,MAEZ,GAAIH,IAAkBF,EAAY,EAAG,CACtCI,EAAgB,I,KAEf,CACDC,EAAaH,EAAgB,C,EAGrCjD,KAAKqB,eACL,GAAI8B,EAAe,CACf3D,EAAS6D,cAAcC,YAAY9D,E,KAElC,CACDA,EAAS6D,cAAcE,aAAa/D,EAAUQ,KAAKC,MAAMmD,G,CAE7DpD,KAAKC,MAAQ+B,MAAMC,KAAKjC,KAAKkC,GAAGC,UAChCnC,KAAKgB,iBACLwC,uBAAsB,IAAMC,EAAajB,KACzC,GAAI,aAAcA,EAAQ,CACtBA,EAAOkB,SAAW,I,EAG1BtD,eACIJ,KAAKC,MAAQ+B,MAAMC,KAAKjC,KAAKkC,GAAGC,UAChCwB,EAAyB3D,K,CAE7BgB,iB,OACI4C,EAAA5D,KAAKE,oBAAgB,MAAA0D,SAAA,SAAAA,EAAEC,QAAQ7D,KAAKkC,GAAI,CAAE4B,UAAW,KAAMC,QAAS,M,CAExE1C,e,OACIuC,EAAA5D,KAAKE,oBAAgB,MAAA0D,SAAA,SAAAA,EAAEI,Y,CAO3BC,SACI,MAAMpD,SAAEA,EAAQD,OAAEA,GAAWZ,KAC7B,MAAMkE,EAAatD,IAAW,cAAgB,MAC9C,OAAQuD,EAAEC,EAAsB,CAAEC,IAAK,2CAA4CxD,SAAUA,GAAYsD,EAAE,MAAO,CAAEE,IAAK,2CAA4CC,MAAO,CACpK,CAAC/E,EAAIE,WAAY,KACjB,CAACF,EAAII,oBAAqBuE,EAC1B,CAAC3E,EAAIG,qBAAsBwE,IAC1BC,EAAE,OAAQ,CAAEE,IAAK,8C"}