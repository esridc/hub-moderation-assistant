import{r as t,c as e,h as i,H as s,g as a}from"./p-3e4c4fe7.js";import{g as n}from"./p-fe89bef4.js";import{k as l,y as h}from"./p-416f7088.js";import{c as r,d as o,a as c,H as d}from"./p-bddf5600.js";import{c as u,d as m,u as b,I as f}from"./p-529ac440.js";import{i as p}from"./p-067fcff5.js";import{c as g,d as v,g as x}from"./p-807436d6.js";import{s as k,a as _,c as y}from"./p-099edbe6.js";import{n as w,c as V,d as $}from"./p-768b95e8.js";import{d as z,c as M}from"./p-e7b3487d.js";import"./p-245d8a5c.js";import"./p-0c8f2359.js";import"./p-6423f684.js";import"./p-ddd644c6.js";
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.11.1
 */const L={container:"container",containerRange:"container--range",graph:"graph",handle:"handle",handleExtension:"handle-extension",handleLabel:"handle__label",handleLabelMinValue:"handle__label--minValue",handleLabelValue:"handle__label--value",hyphen:"hyphen",hyphenWrap:"hyphen--wrap",static:"static",thumb:"thumb",thumbActive:"thumb--active",thumbContainer:"thumb-container",thumbMinValue:"thumb--minValue",thumbPrecise:"thumb--precise",thumbValue:"thumb--value",tick:"tick",tickActive:"tick--active",tickLabel:"tick__label",tickMax:"tick__label--max",tickMin:"tick__label--min",ticks:"ticks",track:"track",trackRange:"track__range",transformed:"transformed"};const j=250;const H='@charset "UTF-8";:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}.scale--s{--calcite-slider-handle-size:0.625rem;--calcite-slider-handle-extension-height:0.4rem;--calcite-slider-container-font-size:var(--calcite-font-size--3)}.scale--s .handle__label,.scale--s .tick__label{line-height:.75rem}.scale--m{--calcite-slider-handle-size:0.875rem;--calcite-slider-handle-extension-height:0.5rem;--calcite-slider-container-font-size:var(--calcite-font-size--2)}.scale--m .handle__label,.scale--m .tick__label{line-height:1rem}.scale--l{--calcite-slider-handle-size:1rem;--calcite-slider-handle-extension-height:0.65rem;--calcite-slider-container-font-size:var(--calcite-font-size--1)}.scale--l .handle__label,.scale--l .tick__label{line-height:1rem}.handle__label,.tick__label{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-2);font-size:var(--calcite-slider-container-font-size)}:host{display:block}.container{position:relative;display:block;overflow-wrap:normal;word-break:normal;padding-inline:calc(var(--calcite-slider-handle-size) * 0.5);padding-block:calc(var(--calcite-slider-handle-size) * 0.5);margin-block:calc(var(--calcite-slider-handle-size) * 0.5);margin-inline:0;--calcite-slider-full-handle-height:calc(\n    var(--calcite-slider-handle-size) + var(--calcite-slider-handle-extension-height)\n  );touch-action:none}:host([disabled]) .track__range,:host([disabled]) .tick--active{background-color:var(--calcite-color-text-3)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.scale--s .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-0.375rem}.scale--m .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-0.5rem}.scale--l .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-0.55rem}:host([precise]:not([has-histogram])) .container .thumb--value{--calcite-slider-thumb-y-offset:calc(var(--calcite-slider-full-handle-height) * -1)}.thumb-container{position:relative;max-inline-size:100%}.thumb{--calcite-slider-thumb-x-offset:calc(var(--calcite-slider-handle-size) * 0.5);position:absolute;margin:0px;display:flex;cursor:pointer;flex-direction:column;align-items:center;border-style:none;background-color:transparent;padding:0px;font-family:inherit;outline:2px solid transparent;outline-offset:2px;transform:translate(var(--calcite-slider-thumb-x-offset), var(--calcite-slider-thumb-y-offset))}.thumb .handle__label.static,.thumb .handle__label.transformed{position:absolute;inset-block:0px;opacity:0}.thumb .handle__label.hyphen::after{content:"â€”";display:inline-block;inline-size:1em}.thumb .handle__label.hyphen--wrap{display:flex}.thumb .handle{box-sizing:border-box;border-radius:9999px;background-color:var(--calcite-color-foreground-1);outline-color:transparent;block-size:var(--calcite-slider-handle-size);inline-size:var(--calcite-slider-handle-size);box-shadow:0 0 0 2px var(--calcite-color-text-3) inset;transition:border var(--calcite-internal-animation-timing-medium) ease, background-color var(--calcite-internal-animation-timing-medium) ease, box-shadow var(--calcite-animation-timing) ease}.thumb .handle-extension{inline-size:0.125rem;block-size:var(--calcite-slider-handle-extension-height);background-color:var(--calcite-color-text-3)}.thumb:hover .handle{box-shadow:0 0 0 3px var(--calcite-color-brand) inset}.thumb:hover .handle-extension{background-color:var(--calcite-color-brand)}.thumb:focus .handle{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(\n            2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-offset-invert-focus),\n                1\n              )\n            )\n          )}.thumb:focus .handle-extension{background-color:var(--calcite-color-brand)}.thumb.thumb--minValue{transform:translate(calc(var(--calcite-slider-thumb-x-offset) * -1), var(--calcite-slider-thumb-y-offset))}.thumb.thumb--precise{--calcite-slider-thumb-y-offset:-0.125rem}:host([label-handles]) .thumb{--calcite-slider-thumb-x-offset:50%}:host([label-handles]):host(:not([has-histogram])) .scale--s .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-1.4375rem}:host([label-handles]):host(:not([has-histogram])) .scale--m .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-1.875rem}:host([label-handles]):host(:not([has-histogram])) .scale--l .thumb:not(.thumb--precise){--calcite-slider-thumb-y-offset:-2rem}:host([has-histogram][label-handles]) .handle__label,:host([label-handles]:not([has-histogram])) .thumb--minValue.thumb--precise .handle__label{margin-block-start:0.5em}:host(:not([has-histogram]):not([precise])) .handle__label,:host([label-handles]:not([has-histogram])) .thumb--value .handle__label{margin-block-end:0.5em}:host([label-handles][precise]):host(:not([has-histogram])) .scale--s .thumb--value{--calcite-slider-thumb-y-offset:-2.075rem}:host([label-handles][precise]):host(:not([has-histogram])) .scale--m .thumb--value{--calcite-slider-thumb-y-offset:-2.75rem}:host([label-handles][precise]):host(:not([has-histogram])) .scale--l .thumb--value{--calcite-slider-thumb-y-offset:-3.0625rem}.thumb:focus .handle,.thumb--active .handle{background-color:var(--calcite-color-brand);box-shadow:0 0 8px 0 rgba(0, 0, 0, 0.16)}.thumb:hover.thumb--precise::after,.thumb:focus.thumb--precise::after,.thumb--active.thumb--precise::after{background-color:var(--calcite-color-brand)}.track{position:relative;block-size:0.125rem;border-radius:0px;background-color:var(--calcite-color-border-2);transition:all var(--calcite-internal-animation-timing-medium) ease-in}.track__range{position:absolute;inset-block-start:0px;block-size:0.125rem;background-color:var(--calcite-color-brand)}.container--range .track__range:hover{cursor:ew-resize}.container--range .track__range::after{position:absolute;inline-size:100%;content:"";inset-block-start:calc(var(--calcite-slider-full-handle-height) * 0.5 * -1);block-size:calc(var(--calcite-slider-handle-size) + var(--calcite-slider-handle-extension-height))}@media (forced-colors: active){.thumb{outline-width:0;outline-offset:0}.handle{outline:2px solid transparent;outline-offset:2px}.thumb:focus .handle,.thumb .handle-extension,.thumb:hover .handle-extension,.thumb:focus .handle-extension,.thumb:active .handle-extension{background-color:canvasText}.track{background-color:canvasText}.track__range{background-color:highlight}}.tick{position:absolute;block-size:0.25rem;inline-size:0.125rem;border-width:1px;border-style:solid;background-color:var(--calcite-color-border-input);border-color:var(--calcite-color-foreground-1);inset-block-start:-2px;pointer-events:none;margin-inline-start:calc(-1 * 0.125rem)}.tick--active{background-color:var(--calcite-color-brand)}.tick__label{pointer-events:none;margin-block-start:0.875rem;display:flex;justify-content:center}.tick__label--min{transition:opacity var(--calcite-animation-timing)}.tick__label--max{transition:opacity var(--calcite-internal-animation-timing-fast)}:host([has-histogram][label-handles]) .tick__label--min,:host([has-histogram][label-handles]) .tick__label--max,:host([has-histogram][precise]) .tick__label--min,:host([has-histogram][precise]) .tick__label--max{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-3)}.graph{color:var(--calcite-color-foreground-3);block-size:48px}:host([label-ticks][ticks]) .container{padding-block-end:calc(0.875rem + var(--calcite-slider-container-font-size))}:host([has-histogram]):host([precise][label-handles]) .container{padding-block-end:calc(var(--calcite-slider-full-handle-height) + 1em)}:host([has-histogram]):host([label-handles]:not([precise])) .container{padding-block-end:calc(var(--calcite-slider-handle-size) * 0.5 + 1em)}:host([has-histogram]):host([precise]:not([label-handles])) .container{padding-block-end:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([precise]:not([label-handles])) .container{padding-block-start:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([precise]:not([label-handles])) .container--range{padding-block-end:var(--calcite-slider-full-handle-height)}:host(:not([has-histogram])):host([label-handles]:not([precise])) .container{padding-block-start:calc(var(--calcite-slider-full-handle-height) + 4px)}:host(:not([has-histogram])):host([label-handles][precise]) .container{padding-block-start:calc(var(--calcite-slider-full-handle-height) + var(--calcite-slider-container-font-size) + 4px)}:host(:not([has-histogram])):host([label-handles][precise]) .container--range{padding-block-end:calc(var(--calcite-slider-full-handle-height) + var(--calcite-slider-container-font-size) + 4px)}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([hidden]){display:none}[hidden]{display:none}';function X(t){return Array.isArray(t)}const T=class{constructor(i){t(this,i);this.calciteSliderInput=e(this,"calciteSliderInput",6);this.calciteSliderChange=e(this,"calciteSliderChange",6);this.handleKeyDown=t=>{const e=this.shouldMirror();const{activeProp:i,max:s,min:a,pageStep:n,step:l}=this;const h=this[i];const{key:r}=t;if(p(r)){t.preventDefault();return}let o;if(r==="ArrowUp"||r==="ArrowRight"){const t=e&&r==="ArrowRight"?-1:1;o=h+l*t}else if(r==="ArrowDown"||r==="ArrowLeft"){const t=e&&r==="ArrowLeft"?-1:1;o=h-l*t}else if(r==="PageUp"){if(n){o=h+n}}else if(r==="PageDown"){if(n){o=h-n}}else if(r==="Home"){o=a}else if(r==="End"){o=s}if(isNaN(o)){return}t.preventDefault();const c=Number(o.toFixed(z(l)));this.setValue({[i]:this.clamp(c,i)})};this.activeProp="value";this.guid=`calcite-slider-${n()}`;this.onThumbBlur=()=>{this.activeProp=null};this.onThumbFocus=t=>{const e=t.currentTarget;this.activeProp=e.getAttribute("data-value-prop")};this.onThumbPointerDown=t=>{const e=t.currentTarget;this.pointerDownDragStart(t,e.getAttribute("data-value-prop"))};this.onTrackPointerDown=t=>{this.pointerDownDragStart(t,"minMaxValue")};this.dragUpdate=t=>{if(this.disabled){return}t.preventDefault();if(this.dragProp){const e=this.translate(t.clientX||t.pageX);if(X(this.value)&&this.dragProp==="minMaxValue"){if(this.minValueDragRange&&this.maxValueDragRange&&this.minMaxValueRange){const t=e-this.minValueDragRange;const i=e+this.maxValueDragRange;if(i<=this.max&&t>=this.min&&i-t===this.minMaxValueRange){this.setValue({minValue:this.clamp(t,"minValue"),maxValue:this.clamp(i,"maxValue")})}}else{this.minValueDragRange=e-this.minValue;this.maxValueDragRange=this.maxValue-e;this.minMaxValueRange=this.maxValue-this.minValue}}else{this.setValue({[this.dragProp]:this.clamp(e,this.dragProp)})}}};this.pointerUpDragEnd=t=>{if(this.disabled||!l(t)){return}this.dragEnd(t)};this.dragEnd=t=>{if(this.disabled){return}this.removeDragListeners();this.focusActiveHandle(t.clientX);if(this.lastDragPropValue!=this[this.dragProp]){this.emitChange()}this.dragProp=null;this.lastDragPropValue=null;this.minValueDragRange=null;this.maxValueDragRange=null;this.minMaxValueRange=null};this.storeTrackRef=t=>{this.trackEl=t};this.storeThumbRef=t=>{if(!t){return}const e=t.getAttribute("data-value-prop");e==="minValue"?this.minHandle=t:this.maxHandle=t};this.formatValue=t=>{w.numberFormatOptions={locale:this.effectiveLocale,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator};return w.localize(t.toString())};this.disabled=false;this.fillPlacement="start";this.form=undefined;this.groupSeparator=false;this.hasHistogram=false;this.histogram=undefined;this.histogramStops=undefined;this.labelHandles=false;this.labelFormatter=undefined;this.labelTicks=false;this.max=100;this.maxLabel=undefined;this.maxValue=undefined;this.min=0;this.minLabel=undefined;this.minValue=undefined;this.mirrored=false;this.name=undefined;this.numberingSystem=undefined;this.pageStep=undefined;this.precise=false;this.required=false;this.snap=false;this.step=1;this.ticks=undefined;this.value=0;this.scale="m";this.effectiveLocale="";this.minMaxValueRange=null;this.minValueDragRange=null;this.maxValueDragRange=null;this.tickValues=[]}histogramWatcher(t){this.hasHistogram=!!t}ticksWatcher(){this.tickValues=this.generateTickValues()}valueHandler(){this.setMinMaxFromValue()}minMaxValueHandler(){this.setValueFromMinMax()}connectedCallback(){u(this);V(this);this.setMinMaxFromValue();this.setValueFromMinMax();g(this);r(this)}disconnectedCallback(){m(this);v(this);o(this);$(this);this.removeDragListeners()}componentWillLoad(){k(this);if(!X(this.value)){this.value=this.snap?this.getClosestStep(this.value):this.clamp(this.value)}this.ticksWatcher();this.histogramWatcher(this.histogram);c(this,this.value)}componentDidLoad(){_(this)}componentDidRender(){if(this.labelHandles){this.adjustHostObscuredHandleLabel("value");if(X(this.value)){this.adjustHostObscuredHandleLabel("minValue");if(!(this.precise&&!this.hasHistogram)){this.hyphenateCollidingRangeHandleLabels()}}}this.hideObscuredBoundingTickLabels();b(this)}render(){const t=this.el.id||this.guid;const e=X(this.value)?this.maxValue:this.value;const a=this.minValue||this.min;const n=this.shouldUseMinValue();const l=this.getUnitInterval(n?this.minValue:a)*100;const h=this.getUnitInterval(e)*100;const r=this.shouldMirror();const o=X(this.value);const c=this.buildThumbType("max");const u=this.renderThumb({type:c,thumbPlacement:c.includes("histogram")?"below":"above",maxInterval:h,minInterval:l,mirror:r});const m=this.buildThumbType("min");const b=o&&this.renderThumb({type:m,thumbPlacement:m.includes("histogram")||m.includes("precise")?"below":"above",maxInterval:h,minInterval:l,mirror:r});const p=o?"start":this.fillPlacement;const g=p==="none"?{left:`unset`,right:`unset`}:p==="end"?{left:`${r?l:h}%`,right:`${r?h:l}%`}:{left:`${r?100-h:l}%`,right:`${r?l:100-h}%`};return i(s,{key:"345553b84f2336fe5a98bb2b3050d137130c41ef",id:t,onKeyDown:this.handleKeyDown,onTouchStart:this.handleTouchStart},i(f,{key:"0d9db31db94152095071d9ff40dbf3cf8ba685d6",disabled:this.disabled},i("div",{key:"767ab1401000b02717013231c935fe1747def1b3","aria-label":x(this),class:{[L.container]:true,[L.containerRange]:o,[`scale--${this.scale}`]:true}},this.renderGraph(),i("div",{key:"1a104ad97079f71d37efea9d933f364520d49397",class:L.track,ref:this.storeTrackRef},i("div",{key:"84f8033505dc0f373a0d19a641886e49ca4fe732",class:L.trackRange,onPointerDown:this.onTrackPointerDown,style:g}),i("div",{key:"79f89b93a6acbb05ffce09bd2aa34ef134b3e219",class:L.ticks},this.tickValues.map((t=>{const s=`${this.getUnitInterval(t)*100}%`;let l=false;if(p==="start"||p==="end"){if(n){l=t>=this.minValue&&t<=this.maxValue}else{const i=p==="start"?a:e;const s=p==="start"?e:this.max;l=t>=i&&t<=s}}return i("span",{class:{[L.tick]:true,[L.tickActive]:l},style:{left:r?"":s,right:r?s:""}},this.renderTickLabel(t))})))),i("div",{key:"9bc6ea406e2036adb87da4a6053533283434864d",class:L.thumbContainer},b,u,i(d,{key:"c13236898b527a1ffc058914fe87e6004b93aaf5",component:this})))))}renderThumb({type:t,mirror:e,thumbPlacement:s,minInterval:a,maxInterval:n}){const l=t.includes("labeled");const h=t.includes("precise");const r=t.includes("min");const o=X(this.value);const c=r?this.minValue:o?this.maxValue:this.value;const d=r?"minValue":o?"maxValue":"value";const u=r?this.minLabel:o?this.maxLabel:this.minLabel;const m=r?this.minValue:c;const b=d==="minValue"?this.internalLabelFormatter(this.minValue,"min"):d==="maxValue"?this.internalLabelFormatter(this.maxValue,"max"):this.internalLabelFormatter(c,"value");const f=r?{left:`${e?100-a:a}%`}:{right:`${e?n:100-n}%`};const p=`${L.handleLabel} ${r?L.handleLabelMinValue:L.handleLabelValue}`;const g=l?[i("span",{"aria-hidden":"true",class:p},b),i("span",{"aria-hidden":"true",class:`${p} ${L.static}`},b),i("span",{"aria-hidden":"true",class:`${p} ${L.transformed}`},b)]:[];const v=[...g,i("div",{class:L.handle}),h&&i("div",{class:L.handleExtension})];if(s==="below"){v.reverse()}return i("div",{"aria-disabled":this.disabled,"aria-label":u,"aria-orientation":"horizontal","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":m,class:{[L.thumb]:true,[L.thumbValue]:!r,[L.thumbActive]:this.lastDragProp!=="minMaxValue"&&this.dragProp===d,[L.thumbPrecise]:h,[L.thumbMinValue]:r},"data-value-prop":d,key:t,onBlur:this.onThumbBlur,onFocus:this.onThumbFocus,onPointerDown:this.onThumbPointerDown,ref:this.storeThumbRef,role:"slider",style:f,tabIndex:0},v)}renderGraph(){return this.histogram?i("calcite-graph",{class:L.graph,colorStops:this.histogramStops,data:this.histogram,highlightMax:X(this.value)?this.maxValue:this.value,highlightMin:X(this.value)?this.minValue:this.min,max:this.max,min:this.min}):null}renderTickLabel(t){const{hasHistogram:e,labelHandles:s,labelTicks:a,max:n,min:l,precise:h,value:r}=this;const o=X(r);const c=t===l;const d=t===n;const u=c||d;const m=a&&(!e&&(u||!h||!o)||e&&(u||!h&&!s));return m?i("span",{class:{[L.tickLabel]:true,[L.tickMin]:c,[L.tickMax]:d}},this.internalLabelFormatter(t,"tick")):null}pointerDownHandler(t){if(this.disabled||!l(t)){return}const e=t.clientX||t.pageX;const i=this.translate(e);let s="value";if(X(this.value)){const t=i>=this.minValue&&i<=this.maxValue;if(t&&this.lastDragProp==="minMaxValue"){s="minMaxValue"}else{const t=Math.abs(this.maxValue-i)<Math.abs(this.minValue-i);s=t||i>=this.maxValue?"maxValue":"minValue"}}this.lastDragPropValue=this[s];this.dragStart(s);const a=this.el.shadowRoot.querySelector(`.${L.thumb}:active`);if(!a){this.setValue({[s]:this.clamp(i,s)})}this.focusActiveHandle(e)}handleTouchStart(t){t.preventDefault()}async setFocus(){await y(this);const t=this.minHandle?this.minHandle:this.maxHandle;t===null||t===void 0?void 0:t.focus()}buildThumbType(t){const e=[t];if(this.labelHandles){e.push("labeled")}if(this.precise){e.push("precise")}if(this.hasHistogram){e.push("histogram")}return e.join("-")}setValueFromMinMax(){const{minValue:t,maxValue:e}=this;if(typeof t==="number"&&typeof e==="number"){this.value=[t,e]}}setMinMaxFromValue(){const{value:t}=this;if(X(t)){this.minValue=t[0];this.maxValue=t[1]}}onLabelClick(){this.setFocus()}shouldMirror(){return this.mirrored&&!this.hasHistogram}shouldUseMinValue(){if(!X(this.value)){return false}return this.hasHistogram&&this.maxValue===0||!this.hasHistogram&&this.minValue===0}getTickDensity(){const t=(this.max-this.min)/this.ticks/j;return t<1?1:t}generateTickValues(){var t;const e=(t=this.ticks)!==null&&t!==void 0?t:0;if(e<=0){return[]}const i=[this.min];const s=this.getTickDensity();const a=e*s;let n=this.min;while(n<this.max){n+=a;i.push(Math.min(n,this.max))}if(!i.includes(this.max)){i.push(this.max)}return i}pointerDownDragStart(t,e){if(!l(t)){return}this.dragStart(e)}dragStart(t){this.dragProp=t;this.lastDragProp=this.dragProp;this.activeProp=t;window.addEventListener("pointermove",this.dragUpdate);window.addEventListener("pointerup",this.pointerUpDragEnd);window.addEventListener("pointercancel",this.dragEnd)}focusActiveHandle(t){if(this.dragProp==="minValue"){this.minHandle.focus()}else if(this.dragProp==="maxValue"||this.dragProp==="value"){this.maxHandle.focus()}else if(this.dragProp==="minMaxValue"){this.getClosestHandle(t).focus()}}emitInput(){this.calciteSliderInput.emit()}emitChange(){this.calciteSliderChange.emit()}removeDragListeners(){window.removeEventListener("pointermove",this.dragUpdate);window.removeEventListener("pointerup",this.pointerUpDragEnd);window.removeEventListener("pointercancel",this.dragEnd)}setValue(t){let e;Object.keys(t).forEach((i=>{const s=t[i];if(!e){const t=this[i];e=t!==s}this[i]=s}));if(!e){return}const i=this.dragProp;if(!i){this.emitChange()}this.emitInput()}clamp(t,e){t=M(t,this.min,this.max);if(e==="maxValue"){t=Math.max(t,this.minValue)}if(e==="minValue"){t=Math.min(t,this.maxValue)}return t}translate(t){const e=this.max-this.min;const{left:i,width:s}=this.trackEl.getBoundingClientRect();const a=(t-i)/s;const n=this.shouldMirror();const l=this.clamp(this.min+e*(n?1-a:a));const h=Number(l.toFixed(z(this.step)));return!(this.snap&&this.step)?h:this.getClosestStep(h)}getClosestStep(t){const{max:e,min:i,step:s}=this;let a=Math.floor((t-i)/s)*s+i;a=Math.min(Math.max(a,i),e);if(a>e){a-=s}return a}getClosestHandle(t){return this.getDistanceX(this.maxHandle,t)>this.getDistanceX(this.minHandle,t)?this.minHandle:this.maxHandle}getDistanceX(t,e){return Math.abs(t.getBoundingClientRect().left-e)}getFontSizeForElement(t){return Number(window.getComputedStyle(t).getPropertyValue("font-size").match(/\d+/)[0])}getUnitInterval(t){t=this.clamp(t);const e=this.max-this.min;return(t-this.min)/e}adjustHostObscuredHandleLabel(t){const e=this.el.shadowRoot.querySelector(`.handle__label--${t}`);const i=this.el.shadowRoot.querySelector(`.handle__label--${t}.static`);const s=this.el.shadowRoot.querySelector(`.handle__label--${t}.transformed`);const a=i.getBoundingClientRect();const n=this.getHostOffset(a.left,a.right);e.style.transform=`translateX(${n}px)`;s.style.transform=`translateX(${n}px)`}hyphenateCollidingRangeHandleLabels(){const{shadowRoot:t}=this.el;const e=this.shouldMirror();const i=e?"value":"minValue";const s=e?"minValue":"value";const a=t.querySelector(`.handle__label--${i}`);const n=t.querySelector(`.handle__label--${i}.static`);const l=t.querySelector(`.handle__label--${i}.transformed`);const h=this.getHostOffset(n.getBoundingClientRect().left,n.getBoundingClientRect().right);const r=t.querySelector(`.handle__label--${s}`);const o=t.querySelector(`.handle__label--${s}.static`);const c=t.querySelector(`.handle__label--${s}.transformed`);const d=this.getHostOffset(o.getBoundingClientRect().left,o.getBoundingClientRect().right);const u=this.getFontSizeForElement(a);const m=this.getRangeLabelOverlap(l,c);const b=a;const f=u/2;if(m>0){b.classList.add(L.hyphen,L.hyphenWrap);if(d===0&&h===0){let t=m/2-f;t=Math.sign(t)===-1?Math.abs(t):-t;const e=this.getHostOffset(l.getBoundingClientRect().left+t-f,l.getBoundingClientRect().right+t-f);let i=m/2;const s=this.getHostOffset(c.getBoundingClientRect().left+i,c.getBoundingClientRect().right+i);if(e!==0){t+=e;i+=e}if(s!==0){t+=s;i+=s}a.style.transform=`translateX(${t}px)`;l.style.transform=`translateX(${t-f}px)`;r.style.transform=`translateX(${i}px)`;c.style.transform=`translateX(${i}px)`}else if(h>0||d>0){a.style.transform=`translateX(${h+f}px)`;r.style.transform=`translateX(${m+d}px)`;c.style.transform=`translateX(${m+d}px)`}else if(h<0||d<0){let t=Math.abs(h)+m-f;t=Math.sign(t)===-1?Math.abs(t):-t;a.style.transform=`translateX(${t}px)`;l.style.transform=`translateX(${t-f}px)`}}else{b.classList.remove(L.hyphen,L.hyphenWrap);a.style.transform=`translateX(${h}px)`;l.style.transform=`translateX(${h}px)`;r.style.transform=`translateX(${d}px)`;c.style.transform=`translateX(${d}px)`}}hideObscuredBoundingTickLabels(){const t=X(this.value);if(!this.hasHistogram&&!t&&!this.labelHandles&&!this.precise){return}if(!this.hasHistogram&&!t&&this.labelHandles&&!this.precise){return}if(!this.hasHistogram&&!t&&!this.labelHandles&&this.precise){return}if(!this.hasHistogram&&!t&&this.labelHandles&&this.precise){return}if(!this.hasHistogram&&t&&!this.precise){return}if(this.hasHistogram&&!this.precise&&!this.labelHandles){return}const e=this.el.shadowRoot.querySelector(`.${L.thumbMinValue}`);const i=this.el.shadowRoot.querySelector(`.${L.thumbValue}`);const s=this.el.shadowRoot.querySelector(`.${L.tickMin}`);const a=this.el.shadowRoot.querySelector(`.${L.tickMax}`);if(!e&&i&&s&&a){s.style.opacity=this.isMinTickLabelObscured(s,i)?"0":"1";a.style.opacity=this.isMaxTickLabelObscured(a,i)?"0":"1"}if(e&&i&&s&&a){s.style.opacity=this.isMinTickLabelObscured(s,e)||this.isMinTickLabelObscured(s,i)?"0":"1";a.style.opacity=this.isMaxTickLabelObscured(a,e)||this.isMaxTickLabelObscured(a,i)&&this.hasHistogram?"0":"1"}}getHostOffset(t,e){const i=this.el.getBoundingClientRect();const s=7;if(t+s<i.left){return i.left-t-s}if(e-s>i.right){return-(e-i.right)+s}return 0}getRangeLabelOverlap(t,e){const i=t.getBoundingClientRect();const s=e.getBoundingClientRect();const a=this.getFontSizeForElement(t);const n=i.right+a-s.left;return Math.max(n,0)}isMinTickLabelObscured(t,e){const i=t.getBoundingClientRect();const s=e.getBoundingClientRect();return h(i,s)}isMaxTickLabelObscured(t,e){const i=t.getBoundingClientRect();const s=e.getBoundingClientRect();return h(i,s)}internalLabelFormatter(t,e){const i=this.labelFormatter;if(!i){return this.formatValue(t)}const s=i(t,e,this.formatValue);if(s==null){return this.formatValue(t)}return s}static get delegatesFocus(){return true}get el(){return a(this)}static get watchers(){return{histogram:["histogramWatcher"],ticks:["ticksWatcher"],value:["valueHandler"],minValue:["minMaxValueHandler"],maxValue:["minMaxValueHandler"]}}};T.style=H;export{T as calcite_slider};
//# sourceMappingURL=p-8ac867a3.entry.js.map