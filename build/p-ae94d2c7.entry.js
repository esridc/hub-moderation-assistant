import{r as t,c as e,h as i,H as n,g as s}from"./p-3e4c4fe7.js";import{b as o,x as c,g as a,t as l}from"./p-416f7088.js";import{c as r,u as d,d as h,I as f}from"./p-529ac440.js";import{c as u,d as p}from"./p-768b95e8.js";import{u as b,c as g,s as m,d as v}from"./p-0cf7c05c.js";import{s as C,a as y,c as x}from"./p-099edbe6.js";import{a as k,g as w,b as S,u as I}from"./p-448ba095.js";import{a as L,I as j,C as z,S as E}from"./p-b6ab0e43.js";import"./p-fe89bef4.js";import"./p-245d8a5c.js";import"./p-0c8f2359.js";import"./p-067fcff5.js";import"./p-ddd644c6.js";const D=':host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;flex-direction:column;background-color:var(--calcite-color-foreground-1);--calcite-list-item-icon-color:var(--calcite-color-brand)}:host([filter-hidden]),:host([closed]){display:none}.wrapper--bordered{border-block-end:1px solid var(--calcite-color-border-3)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{box-sizing:border-box;display:flex;flex:1 1 0%;background-color:var(--calcite-color-foreground-1)}.container *{box-sizing:border-box}.container--hover:hover{cursor:pointer;background-color:var(--calcite-color-foreground-2)}.container:active{background-color:var(--calcite-color-foreground-1)}.container--border{border-inline-start-width:4px;border-inline-start-style:solid}.container--border-selected{border-inline-start-color:var(--calcite-color-brand)}.container--border-unselected{border-inline-start-color:transparent}.container:hover.container--border-unselected{border-color:var(--calcite-color-border-1)}.nested-container{display:none;flex-direction:column;border-width:0px;border-style:solid;border-color:var(--calcite-color-border-3);margin-inline-start:var(--calcite-list-item-spacing-indent, 1.5rem)}.nested-container--open{display:flex}.content-container{display:flex;flex:1 1 auto;-webkit-user-select:none;user-select:none;align-items:stretch;padding:0px;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-2)}tr,td{outline-color:transparent}tr{position:relative}tr:focus,td:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(\n            -2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-offset-invert-focus),\n                1\n              )\n            )\n          )}.content,.custom-content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;padding-inline:0.75rem;padding-block:0.5rem;font-size:var(--calcite-font-size--2);line-height:1.375}.label,.description,.content-bottom{font-family:var(--calcite-font-family);font-size:var(--calcite-font-size--2);font-weight:var(--calcite-font-weight-normal);word-wrap:break-word;word-break:break-word}.label:only-child,.description:only-child,.content-bottom:only-child{margin:0px;padding-block:0.25rem}.label{color:var(--calcite-color-text-1)}:host([selected]) .label{font-weight:var(--calcite-font-weight-medium)}.description{margin-block-start:0.125rem;color:var(--calcite-color-text-3)}:host([selected]) .description{color:var(--calcite-color-text-2)}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:1 1 auto}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){margin-inline:0.75rem;align-self:center}.content-bottom{display:flex;flex-direction:column}.content-container--has-center-content .content-start,.content-container--has-center-content .content-end{flex:0 1 auto}.selection-container{display:flex;padding-inline:0.75rem;padding-block:0px;color:var(--calcite-color-border-input)}.selection-container--single{color:transparent}:host(:not([disabled]):not([selected])) .container:hover .selection-container--single{color:var(--calcite-color-border-1)}:host([selected]:hover) .selection-container,:host([selected]:hover) .selection-container--single,:host([selected]) .selection-container{color:var(--calcite-list-item-icon-color)}.open-container{color:var(--calcite-color-text-3)}:host(:not([disabled])) .container:hover .open-container{color:var(--calcite-color-text-1)}.actions-start,.actions-end,.content-start,.content-end,.selection-container,.drag-container,.open-container{display:flex;align-items:center}.actions-start calcite-action,.actions-start calcite-handle,.actions-end calcite-action,.actions-end calcite-handle,.content-start calcite-action,.content-start calcite-handle,.content-end calcite-action,.content-end calcite-handle,.selection-container calcite-action,.selection-container calcite-handle,.drag-container calcite-action,.drag-container calcite-handle,.open-container calcite-action,.open-container calcite-handle{align-self:stretch}.open-container,.selection-container{cursor:pointer}.actions-start,.actions-end{position:relative;padding:0px}.actions-start ::slotted(calcite-action),.actions-start ::slotted(calcite-action-menu),.actions-start ::slotted(calcite-handle),.actions-start ::slotted(calcite-dropdown),.actions-end ::slotted(calcite-action),.actions-end ::slotted(calcite-action-menu),.actions-end ::slotted(calcite-handle),.actions-end ::slotted(calcite-dropdown){align-self:stretch;color:inherit}tr:focus .actions-start,tr:focus .actions-end{inset-block:0.125rem}tr:focus .actions-start .close,tr:focus .actions-start ::slotted(calcite-action),tr:focus .actions-start ::slotted(calcite-action-menu),tr:focus .actions-start ::slotted(calcite-handle),tr:focus .actions-start ::slotted(calcite-dropdown),tr:focus .actions-end .close,tr:focus .actions-end ::slotted(calcite-action),tr:focus .actions-end ::slotted(calcite-action-menu),tr:focus .actions-end ::slotted(calcite-handle),tr:focus .actions-end ::slotted(calcite-dropdown){block-size:calc(100% - 0.25rem)}tr:focus::after,tr:focus::before{position:absolute;content:"";inline-size:0.125rem;z-index:var(--calcite-z-index-header);background-color:var(--calcite-color-brand);inset-block:0}tr:focus::before{inset-inline-start:0}tr:focus::after{inset-inline-end:0}.container--border:focus::before{display:none}::slotted(calcite-list:empty){border-block-start-width:0px}:host([hidden]){display:none}[hidden]{display:none}';const A=new Map;const M="calcite-list";const F=class{constructor(i){t(this,i);this.calciteListItemSelect=e(this,"calciteListItemSelect",6);this.calciteListItemClose=e(this,"calciteListItemClose",6);this.calciteListItemDragHandleChange=e(this,"calciteListItemDragHandleChange",6);this.calciteListItemToggle=e(this,"calciteListItemToggle",6);this.calciteInternalListItemSelect=e(this,"calciteInternalListItemSelect",6);this.calciteInternalListItemSelectMultiple=e(this,"calciteInternalListItemSelectMultiple",6);this.calciteInternalListItemActive=e(this,"calciteInternalListItemActive",6);this.calciteInternalFocusPreviousItem=e(this,"calciteInternalFocusPreviousItem",6);this.calciteInternalListItemChange=e(this,"calciteInternalListItemChange",6);this.calciteInternalListItemToggle=e(this,"calciteInternalListItemToggle",6);this.dragHandleSelectedChangeHandler=t=>{this.dragSelected=t.target.selected;this.calciteListItemDragHandleChange.emit();t.stopPropagation()};this.emitInternalListItemActive=()=>{this.calciteInternalListItemActive.emit()};this.focusCellHandle=()=>{this.handleCellFocusIn(this.handleGridEl)};this.focusCellActionsStart=()=>{this.handleCellFocusIn(this.actionsStartEl)};this.focusCellContent=()=>{this.handleCellFocusIn(this.contentEl)};this.focusCellActionsEnd=()=>{this.handleCellFocusIn(this.actionsEndEl)};this.handleCloseClick=()=>{this.closed=true;this.calciteListItemClose.emit()};this.handleContentSlotChange=t=>{this.hasCustomContent=o(t)};this.handleActionsStartSlotChange=t=>{this.hasActionsStart=o(t)};this.handleActionsEndSlotChange=t=>{this.hasActionsEnd=o(t)};this.handleContentStartSlotChange=t=>{this.hasContentStart=o(t)};this.handleContentEndSlotChange=t=>{this.hasContentEnd=o(t)};this.handleContentBottomSlotChange=t=>{this.hasContentBottom=o(t)};this.handleDefaultSlotChange=t=>{this.handleOpenableChange(t.target)};this.handleToggleClick=()=>{this.toggle()};this.toggle=(t=!this.open)=>{this.open=t;this.calciteListItemToggle.emit()};this.handleItemClick=t=>{if(t.defaultPrevented){return}this.toggleSelected(t.shiftKey)};this.toggleSelected=t=>{const{selectionMode:e,selected:i}=this;if(this.disabled){return}if(e==="multiple"||e==="single"){this.selected=!i}else if(e==="single-persist"){this.selected=true}this.calciteInternalListItemSelectMultiple.emit({selectMultiple:t&&e==="multiple"});this.calciteListItemSelect.emit()};this.handleItemKeyDown=t=>{if(t.defaultPrevented){return}const{key:e}=t;const i=t.composedPath();const{containerEl:n,actionsStartEl:s,actionsEndEl:o,open:c,openable:a}=this;const l=this.getGridCells();const r=l.findIndex((t=>i.includes(t)));if(e==="Enter"&&!i.includes(s)&&!i.includes(o)){t.preventDefault();this.toggleSelected(t.shiftKey)}else if(e==="ArrowRight"){t.preventDefault();const e=r+1;if(r===-1){if(!c&&a){this.toggle(true);this.focusCell(null)}else if(l[0]){this.focusCell(l[0])}}else if(l[r]&&l[e]){this.focusCell(l[e])}}else if(e==="ArrowLeft"){t.preventDefault();const e=r-1;if(r===-1){this.focusCell(null);if(c&&a){this.toggle(false)}else{this.calciteInternalFocusPreviousItem.emit()}}else if(r===0){this.focusCell(null);n.focus()}else if(l[r]&&l[e]){this.focusCell(l[e])}}};this.focusCellNull=()=>{this.focusCell(null)};this.handleCellFocusIn=t=>{this.setFocusCell(t,c(t),true)};this.setFocusCell=(t,e,i)=>{const{parentListEl:n}=this;if(i){A.set(n,null)}const s=this.getGridCells();s.forEach((t=>{t.tabIndex=-1;t.removeAttribute(L)}));if(!t){return}t.tabIndex=t===e?0:-1;t.setAttribute(L,"");if(i){A.set(n,s.indexOf(t))}};this.focusCell=(t,e=true)=>{const i=c(t);this.setFocusCell(t,i,e);i===null||i===void 0?void 0:i.focus()};this.active=false;this.bordered=false;this.closable=false;this.closed=false;this.description=undefined;this.disabled=false;this.dragDisabled=false;this.dragHandle=false;this.dragSelected=false;this.filterHidden=false;this.label=undefined;this.metadata=undefined;this.open=false;this.setSize=null;this.setPosition=null;this.selected=false;this.value=undefined;this.selectionMode=null;this.selectionAppearance=null;this.messageOverrides=undefined;this.messages=undefined;this.effectiveLocale="";this.defaultMessages=undefined;this.level=null;this.parentListEl=undefined;this.openable=false;this.hasActionsStart=false;this.hasActionsEnd=false;this.hasCustomContent=false;this.hasContentStart=false;this.hasContentEnd=false;this.hasContentBottom=false}activeHandler(t){if(!t){this.focusCell(null,false)}}handleClosedChange(){this.emitCalciteInternalListItemChange()}handleDisabledChange(){this.emitCalciteInternalListItemChange()}handleOpenChange(){this.emitCalciteInternalListItemToggle()}handleSelectedChange(){this.calciteInternalListItemSelect.emit()}onMessagesChange(){}handleCalciteInternalListDefaultSlotChanges(t){t.stopPropagation();this.handleOpenableChange(this.defaultSlotEl)}effectiveLocaleChange(){b(this,this.effectiveLocale)}connectedCallback(){r(this);u(this);g(this);const{el:t}=this;this.parentListEl=t.closest(M);this.level=k(t)+1;this.setSelectionDefaults()}async componentWillLoad(){C(this);await m(this)}componentDidLoad(){y(this)}componentDidRender(){d(this)}disconnectedCallback(){h(this);p(this);v(this)}async setFocus(){await x(this);const{containerEl:t,parentListEl:e}=this;const i=A.get(e);if(typeof i==="number"){const e=this.getGridCells();if(e[i]){this.focusCell(e[i])}else{t===null||t===void 0?void 0:t.focus()}return}t===null||t===void 0?void 0:t.focus()}renderSelected(){const{selected:t,selectionMode:e,selectionAppearance:n}=this;if(e==="none"||n==="border"){return null}return i("td",{class:{[z.selectionContainer]:true,[z.selectionContainerSingle]:e==="single"||e==="single-persist"},key:"selection-container",onClick:this.handleItemClick},i("calcite-icon",{icon:t?e==="multiple"?j.selectedMultiple:j.selectedSingle:e==="multiple"?j.unselectedMultiple:j.unselectedSingle,scale:"s"}))}renderDragHandle(){const{label:t,dragHandle:e,dragSelected:n,dragDisabled:s,setPosition:o,setSize:c}=this;return e?i("td",{"aria-label":t,class:z.dragContainer,key:"drag-handle-container",onFocusin:this.focusCellHandle,ref:t=>this.handleGridEl=t,role:"gridcell"},i("calcite-handle",{disabled:s,label:t,onCalciteHandleChange:this.dragHandleSelectedChangeHandler,selected:n,setPosition:o,setSize:c})):null}renderOpen(){const{el:t,open:e,openable:n,messages:s}=this;const o=a(t);const c=e?j.open:o==="rtl"?j.closedRTL:j.closedLTR;const l=e?s.collapse:s.expand;return n?i("td",{class:z.openContainer,key:"open-container",onClick:this.handleToggleClick,title:l},i("calcite-icon",{icon:c,key:c,scale:"s"})):null}renderActionsStart(){const{label:t,hasActionsStart:e}=this;return i("td",{"aria-label":t,class:z.actionsStart,hidden:!e,key:"actions-start-container",onFocusin:this.focusCellActionsStart,ref:t=>this.actionsStartEl=t,role:"gridcell"},i("slot",{name:E.actionsStart,onSlotchange:this.handleActionsStartSlotChange}))}renderActionsEnd(){const{label:t,hasActionsEnd:e,closable:n,messages:s}=this;return i("td",{"aria-label":t,class:z.actionsEnd,hidden:!(e||n),key:"actions-end-container",onFocusin:this.focusCellActionsEnd,ref:t=>this.actionsEndEl=t,role:"gridcell"},i("slot",{name:E.actionsEnd,onSlotchange:this.handleActionsEndSlotChange}),n?i("calcite-action",{appearance:"transparent",class:z.close,icon:j.close,key:"close-action",label:s.close,onClick:this.handleCloseClick,text:s.close}):null)}renderContentStart(){const{hasContentStart:t}=this;return i("div",{class:z.contentStart,hidden:!t},i("slot",{name:E.contentStart,onSlotchange:this.handleContentStartSlotChange}))}renderCustomContent(){const{hasCustomContent:t}=this;return i("div",{class:z.customContent,hidden:!t},i("slot",{name:E.content,onSlotchange:this.handleContentSlotChange}))}renderContentEnd(){const{hasContentEnd:t}=this;return i("div",{class:z.contentEnd,hidden:!t},i("slot",{name:E.contentEnd,onSlotchange:this.handleContentEndSlotChange}))}renderContentBottom(){const{hasContentBottom:t}=this;return i("div",{class:z.contentBottom,hidden:!t},i("slot",{name:E.contentBottom,onSlotchange:this.handleContentBottomSlotChange}))}renderDefaultContainer(){return i("div",{class:{[z.nestedContainer]:true,[z.nestedContainerOpen]:this.openable&&this.open}},i("slot",{onSlotchange:this.handleDefaultSlotChange,ref:t=>this.defaultSlotEl=t}))}renderContentProperties(){const{label:t,description:e,hasCustomContent:n}=this;return!n&&(!!t||!!e)?i("div",{class:z.content,key:"content"},t?i("div",{class:z.label,key:"label"},t):null,e?i("div",{class:z.description,key:"description"},e):null):null}renderContentContainer(){const{description:t,label:e,selectionMode:n,hasCustomContent:s}=this;const o=s||!!e||!!t;const c=[this.renderContentStart(),this.renderCustomContent(),this.renderContentProperties(),this.renderContentEnd()];return i("td",{"aria-label":e,class:{[z.contentContainer]:true,[z.contentContainerSelectable]:n!=="none",[z.contentContainerHasCenterContent]:o},key:"content-container",onClick:this.handleItemClick,onFocusin:this.focusCellContent,ref:t=>this.contentEl=t,role:"gridcell"},c)}render(){const{openable:t,open:e,level:s,setPosition:o,setSize:c,active:a,label:r,selected:d,selectionAppearance:h,selectionMode:u,closed:p,filterHidden:b,bordered:g,disabled:m}=this;const v=u!=="none"&&h==="border";const C=v&&d;const y=v&&!d;return i(n,{key:"2bdaf5ae9ff5694d5efd860a345a6f1a8c94e007"},i(f,{key:"dbd29243dfff02519b4f79c71cc9afbd203560ea",disabled:m},i("div",{key:"6348bef9e84621e00c8fe8c52877c87ec1c91726",class:{[z.wrapper]:true,[z.wrapperBordered]:g}},i("tr",{key:"9c93f58bda94e540e30655dd23d5c8b747e1dad4","aria-expanded":t?l(e):null,"aria-label":r,"aria-level":s,"aria-posinset":o,"aria-selected":l(d),"aria-setsize":c,class:{[z.container]:true,[z.containerHover]:true,[z.containerBorder]:v,[z.containerBorderSelected]:C,[z.containerBorderUnselected]:y},hidden:p||b,onFocus:this.focusCellNull,onFocusin:this.emitInternalListItemActive,onKeyDown:this.handleItemKeyDown,ref:t=>this.containerEl=t,role:"row",tabIndex:a?0:-1},this.renderDragHandle(),this.renderSelected(),this.renderOpen(),this.renderActionsStart(),this.renderContentContainer(),this.renderActionsEnd()),this.renderContentBottom()),this.renderDefaultContainer()))}emitCalciteInternalListItemToggle(){this.calciteInternalListItemToggle.emit()}emitCalciteInternalListItemChange(){this.calciteInternalListItemChange.emit()}setSelectionDefaults(){const{parentListEl:t,selectionMode:e,selectionAppearance:i}=this;if(!t){return}if(!e){this.selectionMode=t.selectionMode}if(!i){this.selectionAppearance=t.selectionAppearance}}handleOpenableChange(t){if(!t){return}const e=w(t);const i=S(t);I(e);this.openable=!!e.length||!!i.length}getGridCells(){return[this.handleGridEl,this.actionsStartEl,this.contentEl,this.actionsEndEl].filter((t=>t&&!t.hidden))}static get assetsDirs(){return["assets"]}get el(){return s(this)}static get watchers(){return{active:["activeHandler"],closed:["handleClosedChange"],disabled:["handleDisabledChange"],open:["handleOpenChange"],selected:["handleSelectedChange"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}};F.style=D;export{F as calcite_list_item};
//# sourceMappingURL=p-ae94d2c7.entry.js.map