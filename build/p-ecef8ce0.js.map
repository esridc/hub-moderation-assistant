{"version":3,"names":["translationCache","requestCache","async","getLocaleData","lang","locale","getSupportedLocale","fetch","getAssetPath","then","resp","json","catch","console","error","data","getValueAsDateRange","value","map","v","index","dateFromISO"],"sources":["./node_modules/@esri/calcite-components/dist/collection/components/date-picker/utils.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.11.1\n */\nimport { getAssetPath } from \"@stencil/core\";\nimport { dateFromISO } from \"../../utils/date\";\nimport { getSupportedLocale } from \"../../utils/locale\";\n/**\n * CLDR cache.\n * Exported for testing purposes.\n *\n * @private\n */\nexport const translationCache = {};\n/**\n * CLDR request cache.\n * Exported for testing purposes.\n *\n * @private\n */\nexport const requestCache = {};\n/**\n * Fetch calendar data for a given locale from list of supported languages\n *\n * @param lang\n * @public\n */\nexport async function getLocaleData(lang) {\n    const locale = getSupportedLocale(lang);\n    if (translationCache[locale]) {\n        return translationCache[locale];\n    }\n    if (!requestCache[locale]) {\n        requestCache[locale] = fetch(getAssetPath(`./assets/date-picker/nls/${locale}.json`))\n            .then((resp) => resp.json())\n            .catch(() => {\n            console.error(`Translations for \"${locale}\" not found or invalid, falling back to english`);\n            return getLocaleData(\"en\");\n        });\n    }\n    const data = await requestCache[locale];\n    translationCache[locale] = data;\n    return data;\n}\n/**\n *  Maps value to valueAsDate\n *\n * @param value\n */\nexport function getValueAsDateRange(value) {\n    return value.map((v, index) => dateFromISO(v, index === 1));\n}\n//# sourceMappingURL=utils.js.map\n"],"mappings":";;;;;GAcO,MAAMA,EAAmB,GAOzB,MAAMC,EAAe,GAOrBC,eAAeC,EAAcC,GAChC,MAAMC,EAASC,EAAmBF,GAClC,GAAIJ,EAAiBK,GAAS,CAC1B,OAAOL,EAAiBK,EAChC,CACI,IAAKJ,EAAaI,GAAS,CACvBJ,EAAaI,GAAUE,MAAMC,EAAa,4BAA4BH,WACjEI,MAAMC,GAASA,EAAKC,SACpBC,OAAM,KACPC,QAAQC,MAAM,qBAAqBT,oDACnC,OAAOF,EAAc,KAAK,GAEtC,CACI,MAAMY,QAAad,EAAaI,GAChCL,EAAiBK,GAAUU,EAC3B,OAAOA,CACX,CAMO,SAASC,EAAoBC,GAChC,OAAOA,EAAMC,KAAI,CAACC,EAAGC,IAAUC,EAAYF,EAAGC,IAAU,IAC5D,Q"}