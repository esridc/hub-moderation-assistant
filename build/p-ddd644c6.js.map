{"version":3,"names":["createObserver","type","callback","options","isBrowser","undefined","Observer","getObserver","ExtendedMutationObserver","window","MutationObserver","constructor","super","this","observedEntry","observe","target","push","unobserve","newObservedEntries","filter","observed","takeRecords","disconnect","forEach","IntersectionObserver","ResizeObserver"],"sources":["./node_modules/@esri/calcite-components/dist/collection/utils/observers.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.11.1\n */\nimport { isBrowser } from \"./browser\";\n/**\n * This utility ensures observers are created only for browser contexts.\n *\n * @param type - the type of observer to create\n * @param callback - the observer callback\n * @param options - the observer options\n */\nexport function createObserver(type, callback, options) {\n    if (!isBrowser()) {\n        return undefined;\n    }\n    const Observer = getObserver(type);\n    return new Observer(callback, options);\n}\nfunction getObserver(type) {\n    // based on https://github.com/whatwg/dom/issues/126#issuecomment-1049814948\n    class ExtendedMutationObserver extends window.MutationObserver {\n        constructor(callback) {\n            super(callback);\n            this.observedEntry = [];\n            this.callback = callback;\n        }\n        observe(target, options) {\n            this.observedEntry.push({ target, options });\n            return super.observe(target, options);\n        }\n        unobserve(target) {\n            const newObservedEntries = this.observedEntry.filter((observed) => observed.target !== target);\n            this.observedEntry = [];\n            this.callback(super.takeRecords(), this);\n            this.disconnect();\n            newObservedEntries.forEach((observed) => this.observe(observed.target, observed.options));\n        }\n    }\n    return (function () {\n        return (type === \"intersection\"\n            ? window.IntersectionObserver\n            : type === \"mutation\"\n                ? ExtendedMutationObserver\n                : window.ResizeObserver);\n    })();\n}\n//# sourceMappingURL=observers.js.map\n"],"mappings":";;;;;GAaO,SAASA,EAAeC,EAAMC,EAAUC,GAC3C,IAAKC,IAAa,CACd,OAAOC,SACf,CACI,MAAMC,EAAWC,EAAYN,GAC7B,OAAO,IAAIK,EAASJ,EAAUC,EAClC,CACA,SAASI,EAAYN,GAEjB,MAAMO,UAAiCC,OAAOC,iBAC1CC,YAAYT,GACRU,MAAMV,GACNW,KAAKC,cAAgB,GACrBD,KAAKX,SAAWA,CAC5B,CACQa,QAAQC,EAAQb,GACZU,KAAKC,cAAcG,KAAK,CAAED,SAAQb,YAClC,OAAOS,MAAMG,QAAQC,EAAQb,EACzC,CACQe,UAAUF,GACN,MAAMG,EAAqBN,KAAKC,cAAcM,QAAQC,GAAaA,EAASL,SAAWA,IACvFH,KAAKC,cAAgB,GACrBD,KAAKX,SAASU,MAAMU,cAAeT,MACnCA,KAAKU,aACLJ,EAAmBK,SAASH,GAAaR,KAAKE,QAAQM,EAASL,OAAQK,EAASlB,UAC5F,EAEI,OAAO,WACH,OAAQF,IAAS,eACXQ,OAAOgB,qBACPxB,IAAS,WACLO,EACAC,OAAOiB,cACpB,CANM,EAOX,Q"}