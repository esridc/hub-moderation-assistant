{"version":3,"names":["internalReadTask","readTask","isOpen","component","opened","open","onToggleOpenCloseComponent","transitionEl","whenTransitionDone","openTransitionProp","onBeforeOpen","onBeforeClose","onOpen","onClose"],"sources":["./node_modules/@esri/calcite-components/dist/collection/utils/openCloseComponent.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.11.1\n */\nimport { readTask } from \"@stencil/core\";\nimport { whenTransitionDone } from \"./dom\";\n/**\n * Exported for testing purposes only\n */\nexport const internalReadTask = readTask;\nfunction isOpen(component) {\n    return \"opened\" in component ? component.opened : component.open;\n}\n/**\n * Helper to determine globally set transition duration on the given openTransitionProp, which is imported and set in the @Watch(\"open\").\n * Used to emit (before)open/close events both for when the opacity transition is present and when there is none (transition-duration is set to 0).\n *\n * @example\n * import { onToggleOpenCloseComponent, OpenCloseComponent } from \"../../utils/openCloseComponent\";\n *\n * async componentWillLoad() {\n * // When component initially renders, if `open` was set we need to trigger on load as watcher doesn't fire.\n * if (this.open) {\n *    onToggleOpenCloseComponent(this);\n * }\n * @Watch(\"open\")\n * async toggleModal(value: boolean): Promise<void> {\n *    onToggleOpenCloseComponent(this);\n * }\n *\n * @param component - OpenCloseComponent uses `open` prop to emit (before)open/close.\n */\nexport function onToggleOpenCloseComponent(component) {\n    internalReadTask(() => {\n        if (!component.transitionEl) {\n            return;\n        }\n        whenTransitionDone(component.transitionEl, component.openTransitionProp, () => {\n            if (isOpen(component)) {\n                component.onBeforeOpen();\n            }\n            else {\n                component.onBeforeClose();\n            }\n        }, () => {\n            if (isOpen(component)) {\n                component.onOpen();\n            }\n            else {\n                component.onClose();\n            }\n        });\n    });\n}\n//# sourceMappingURL=openCloseComponent.js.map\n"],"mappings":";;;;;GAUO,MAAMA,EAAmBC,EAChC,SAASC,EAAOC,GACZ,MAAO,WAAYA,EAAYA,EAAUC,OAASD,EAAUE,IAChE,CAoBO,SAASC,EAA2BH,GACvCH,GAAiB,KACb,IAAKG,EAAUI,aAAc,CACzB,MACZ,CACQC,EAAmBL,EAAUI,aAAcJ,EAAUM,oBAAoB,KACrE,GAAIP,EAAOC,GAAY,CACnBA,EAAUO,cAC1B,KACiB,CACDP,EAAUQ,eAC1B,KACW,KACC,GAAIT,EAAOC,GAAY,CACnBA,EAAUS,QAC1B,KACiB,CACDT,EAAUU,SAC1B,IACU,GAEV,Q"}