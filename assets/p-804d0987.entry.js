/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.11.1
 */
import{r as t,c as e,h as s,g as i}from"./p-5dcb8a70.js";import{c as a,d as n,u as o,I as r}from"./p-79519f9a.js";import{c as d}from"./p-f429933e.js";import{d as c,c as l}from"./p-876ed35e.js";import{d as h}from"./p-180fb587.js";import"./p-fbdfad6a.js";import"./p-8aebc84a.js";import"./p-09a4f06c.js";const f={sortItem:"sort-item",container:"container",containerHorizontal:"container--horizontal",containerVertical:"container--vertical"};const b=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;flex:1 1 auto}.container--vertical{flex-direction:column}.container--horizontal{flex-direction:row}:host([hidden]){display:none}[hidden]{display:none}";const p=b;const u=class{constructor(s){t(this,s);this.calciteListOrderChange=e(this,"calciteListOrderChange",6);this.items=[];this.mutationObserver=d("mutation",(()=>{this.setUpSorting()}));this.dragEnabled=true;this.canPull=undefined;this.canPut=undefined;this.dragSelector=undefined;this.group=undefined;this.handleSelector="calcite-handle";this.layout="vertical";this.disabled=false;this.loading=false}connectedCallback(){this.setUpSorting();this.beginObserving();a(this)}disconnectedCallback(){n(this);c(this);this.endObserving()}componentDidRender(){o(this)}calciteHandleNudgeNextHandler(t){this.handleNudgeEvent(t)}onGlobalDragStart(){this.endObserving()}onGlobalDragEnd(){this.beginObserving()}onDragEnd(){}onDragStart(){}onDragSort(){this.items=Array.from(this.el.children);this.calciteListOrderChange.emit()}handleNudgeEvent(t){const{direction:e}=t.detail;const s=t.composedPath().find((t=>t.matches(this.handleSelector)));const i=this.items.find((e=>e.contains(s)||t.composedPath().includes(e)));const a=this.items.length-1;const n=this.items.indexOf(i);let o=false;let r;if(e==="up"){if(n===0){o=true}else{r=n-1}}else{if(n===a){r=0}else if(n===a-1){o=true}else{r=n+2}}this.endObserving();if(o){i.parentElement.appendChild(i)}else{i.parentElement.insertBefore(i,this.items[r])}this.items=Array.from(this.el.children);this.beginObserving();requestAnimationFrame((()=>h(s)));if("selected"in s){s.selected=true}}setUpSorting(){this.items=Array.from(this.el.children);l(this)}beginObserving(){this.mutationObserver?.observe(this.el,{childList:true,subtree:true})}endObserving(){this.mutationObserver?.disconnect()}render(){const{disabled:t,layout:e}=this;const i=e==="horizontal"||false;return s(r,{key:"da0db08fa91c3f943f358b79a36cb6c3eb8212bd",disabled:t},s("div",{key:"65ca5e00f52d324f9240dc9d4ed9298cf2be4e11",class:{[f.container]:true,[f.containerVertical]:!i,[f.containerHorizontal]:i}},s("slot",{key:"8a968a9509770248980a573ff7565ed78cc8389c"})))}get el(){return i(this)}};u.style=p;export{u as calcite_sortable_list};
//# sourceMappingURL=p-804d0987.entry.js.map